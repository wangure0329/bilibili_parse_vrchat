<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VRC Bilibili 解析工具 - vrcbilibili.xn--o8z.tw</title>
    <meta name="description" content="VRC Bilibili 解析工具，快速獲取 Bilibili 影片的直鏈地址，支持多清晰度解析">
    <meta name="keywords" content="Bilibili,解析,影片,直鏈,VRC">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="apple-touch-icon" href="favicon.svg">
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
               <header class="header">
                   <div class="language-switcher">
                       <button class="lang-btn active" data-lang="zh">中文</button>
                       <button class="lang-btn" data-lang="ja">日本語</button>
                   </div>
                   <div class="logo">
                       <i class="fab fa-bilibili"></i>
                       <h1 data-zh="VRC Bilibili 解析工具" data-ja="VRC Bilibili 解析ツール">VRC Bilibili 解析工具</h1>
                   </div>
                   <p class="subtitle" data-zh="快速獲取 Bilibili 影片的直鏈地址" data-ja="Bilibili 動画の直接リンクを素早く取得">快速獲取 Bilibili 影片的直鏈地址</p>
                   <p class="domain">vrcbilibili.xn--o8z.tw</p>
                   
                   <!-- 服務計數器 - 新設計 -->
                   <div class="stats-container">
                       <div class="stat-box">
                           <div class="stat-number" id="todayCount">0</div>
                           <div class="stat-label" data-zh="今日服務" data-ja="今日サービス">今日服務</div>
                       </div>
                       <div class="stat-box">
                           <div class="stat-number" id="monthCount">0</div>
                           <div class="stat-label" data-zh="本月服務" data-ja="今月サービス">本月服務</div>
                       </div>
                       <div class="stat-box">
                           <div class="stat-number" id="totalCount">0</div>
                           <div class="stat-label" data-zh="累計服務" data-ja="累計サービス">累計服務</div>
                       </div>
                   </div>
                   
               </header>

        <main class="main-content">
            <div class="input-section">
                <div class="input-group">
                    <input type="text" id="urlInput" placeholder="請輸入 Bilibili 影片連結..." class="url-input" data-zh-placeholder="請輸入 Bilibili 影片連結..." data-ja-placeholder="Bilibili 動画のリンクを入力してください...">
                    <button id="parseBtn" class="parse-btn">
                        <i class="fas fa-play"></i>
                        <span data-zh="解析" data-ja="解析">解析</span>
                    </button>
                </div>
                
                <!-- Mirror 節點專用欄位 -->
                <div class="mirror-section">
                    <div class="mirror-input-group">
                        <input type="text" id="mirrorUrlInput" placeholder="請輸入要在中文咖啡廳撥放的BILIBILI連結" class="mirror-url-input" data-zh-placeholder="請輸入要在中文咖啡廳撥放的BILIBILI連結" data-ja-placeholder="中国語カフェで再生するBILIBILIリンクを入力してください">
                        <button id="mirrorParseBtn" class="mirror-parse-btn">
                            <i class="fas fa-server"></i>
                            <span data-zh="解析" data-ja="解析">解析</span>
                        </button>
                    </div>
                    <p class="mirror-note" data-zh="專門使用中文咖啡廳進行解析，可能有機率失效" data-ja="中国語カフェ専用で解析し、失敗する可能性があります">專門使用中文咖啡廳進行解析，可能有機率失效</p>
                </div>
                
                <div class="example-links">
                    <p data-zh="範例連結：" data-ja="例のリンク：">範例連結：</p>
                    <div class="example-buttons">
                        <button class="example-btn" data-url="https://www.bilibili.com/video/BV1xx411c7mu" data-zh="影片範例" data-ja="動画例">影片範例</button>
                    </div>
                </div>
            </div>

            <div class="result-section" id="resultSection" style="display: none;">
                <div class="result-header">
                    <h3><i class="fas fa-link"></i> <span data-zh="解析結果" data-ja="解析結果">解析結果</span></h3>
                    <button id="copyAllBtn" class="copy-all-btn">
                        <i class="fas fa-copy"></i>
                        <span data-zh="複製全部" data-ja="すべてコピー">複製全部</span>
                    </button>
                </div>
                <div class="result-content" id="resultContent">
                    <!-- 解析結果將在這裡顯示 -->
                </div>
            </div>

            <!-- 使用說明 -->
            <div class="usage-section">
                <h2 data-zh="使用說明" data-ja="使用方法">使用說明</h2>
                <div class="usage-notes">
                    <div class="usage-note">
                        <i class="fas fa-link"></i>
                        <p data-zh="讓解析更方便：將 https://vrcbilibili.糕.tw/?url= 放在連結前面即可馬上解析" data-ja="解析をより簡単に：https://vrcbilibili.糕.tw/?url= をリンクの前に付けるだけで即座に解析">讓解析更方便：將 https://vrcbilibili.糕.tw/?url= 放在連結前面即可馬上解析</p>
                    </div>
                    <div class="usage-note">
                        <i class="fas fa-users"></i>
                        <p data-zh="目前只支援私人房間還有作者的公開房" data-ja="現在はプライベートルームと作者の公開ルームのみサポート">目前只支援私人房間還有作者的公開房</p>
                    </div>
                    <div class="usage-note">
                        <i class="fas fa-envelope"></i>
                        <p data-zh="公開房作者需要使用請連絡我的email新增白名單" data-ja="公開ルーム作者は使用するために私のメールに連絡してホワイトリストに追加してください">公開房作者需要使用請連絡我的email新增白名單</p>
                    </div>
                </div>
            </div>

            <div class="features-section">
                <h2 data-zh="功能特點" data-ja="機能特徴">功能特點</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <i class="fas fa-video"></i>
                        <h3 data-zh="影片解析" data-ja="動画解析">影片解析</h3>
                        <p data-zh="支援 Bilibili 影片的直鏈解析，獲取高清影片地址" data-ja="Bilibili 動画の直接リンク解析をサポートし、高画質動画アドレスを取得">支援 Bilibili 影片的直鏈解析，獲取高清影片地址</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-copy"></i>
                        <h3 data-zh="一鍵複製" data-ja="ワンクリックコピー">一鍵複製</h3>
                        <p data-zh="解析結果自動複製到剪貼簿，方便使用" data-ja="解析結果を自動的にクリップボードにコピーし、使用が便利">解析結果自動複製到剪貼簿，方便使用</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-shield-alt"></i>
                        <h3 data-zh="安全可靠" data-ja="安全・信頼性">安全可靠</h3>
                        <p data-zh="不儲存任何使用者資料，保護隱私安全" data-ja="ユーザーデータを一切保存せず、プライバシーを保護">不儲存任何使用者資料，保護隱私安全</p>
                    </div>
                </div>
            </div>
        </main>

        <footer class="footer">
            <p>&copy; 2025 <span data-zh="VRC Bilibili 解析工具" data-ja="VRC Bilibili 解析ツール">VRC Bilibili 解析工具</span>. <span data-zh="僅供學習交流使用" data-ja="学習・交流目的のみ">僅供學習交流使用</span></p>
            <p class="disclaimer"><span data-zh="請尊重創作者版權，不要濫用解析功能" data-ja="創作者の著作権を尊重し、解析機能を乱用しないでください">請尊重創作者版權，不要濫用解析功能</span></p>
            <p><span data-zh="技術支援：" data-ja="技術サポート：">技術支援：</span> <a href="mailto:wangure0329@糕.tw">wangure0329@糕.tw</a></p>
            <p class="author-info">
                <span data-zh="by りん" data-ja="by りん">by りん</span> | 
                <a href="https://x.com/wangure0329" target="_blank" rel="noopener noreferrer" data-zh="X: @wangure0329" data-ja="X: @wangure0329">X: @wangure0329</a>
            </p>
        </footer>
    </div>

    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>正在解析中...</p>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <script src="script.js"></script>
    <script>
        // 處理 URL 參數
        <% if (typeof url !== 'undefined' && url) { %>
            document.addEventListener('DOMContentLoaded', function() {
                // 自動填入 URL 並觸發解析
                const urlInput = document.getElementById('urlInput');
                if (urlInput) {
                    urlInput.value = '<%= url %>';
                    // 觸發解析
                    const parseBtn = document.getElementById('parseBtn');
                    if (parseBtn) {
                        parseBtn.click();
                    }
                }
            });
        <% } %>
    </script>
</body>
</html>
